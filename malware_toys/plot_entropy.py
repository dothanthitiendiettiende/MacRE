import sys
import pandas as pd
import matplotlib.pyplot as plt
import matplotlib
matplotlib.style.use('ggplot')

names = ["PROGRAM_NAME", "__TEXT", "__DATA", "__LINKEDIT"]

def plotEntropyData(pathToEntropyCsv, filename):
    data = pd.read_csv(pathToEntropyCsv, names=names)
    data.info()
    print data.describe()

    fig, ax = plt.subplots()
    hist = data.hist(grid=False, layout=(1,3), ax=ax, normed= True)
    for array in hist:
        for subplot in array:
            subplot.set_xlim((0,8))
            subplot.set_ylim((0,1))
    fig.savefig(filename + ".svg")


def main(args):
    if len(args) != 2:
        print "Usage: plot_entropy.py ENTROPY_DATA.CSV"
    else:
        plotEntropyData(args[1], args[1].split(".")[0])

if __name__ == "__main__":
    main(sys.argv)